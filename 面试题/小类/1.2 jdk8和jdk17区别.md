# jdk8 和jdk17区别
默认 GC：JDK 8 默认吞吐量型 Parallel GC，JDK 17 默认低延迟 G1 GC
永久代：JDK 8 有 PermGen，容易 OOM；JDK 17 用 Metaspace，本地内存，动态扩展
低延迟支持：JDK 17 提供 Shenandoah 和 ZGC，可实现毫秒级 STW 停顿
堆回收方式：JDK 17 引入 Region 分区回收，更灵活

# GC 机制差异
特性	JDK 8	JDK 17
年轻代 GC	Minor GC（复制算法）	Minor GC（复制算法）
老年代 GC	Major / Full GC	Major / Full GC（G1 可并发回收部分老年代）
停顿时间	Parallel GC / CMS GC 停顿时间较长	G1 GC 支持停顿控制，Shenandoah/ZGC 极短停顿
分区回收	无	G1/ZGC 将堆划分 Region，可按垃圾量回收

总结：JDK 17 GC 更智能、支持分区回收、低延迟，适合现代大内存和微服务场景。

# 支持的 GC 种类
## JDK 8
Serial GC
Parallel GC
CMS GC（Concurrent Mark Sweep，老年代并发 GC）
G1 GC（JDK 7 以后可选，但不是默认）
## JDK 17
Serial GC
Parallel GC
G1 GC（默认）
Shenandoah GC（低延迟、并发整理）
ZGC（低延迟、支持大堆）
Epsilon GC（无回收，测试用）
## 区别：
JDK 17 引入 Shenandoah GC 和 ZGC，专注低延迟与大堆应用
JDK 8 CMS GC 已被标记为 弃用，JDK 17 不推荐使用

# 堆内存结构
## JDK 8
年轻代：Eden + 2 个 Survivor 区
老年代：存放长寿命对象
持久代（PermGen）：存放类元信息，固定大小，容易导致 java.lang.OutOfMemoryError: PermGen space
## JDK 17
年轻代 & 老年代结构类似
永久代被 Metaspace 替代：
Metaspace 使用本地内存，不占 JVM 堆
动态扩展，不再容易出现 PermGen OOM
堆可以更大、更灵活
区别：JDK 17 消除了 PermGen，使用 Metaspace，更安全且灵活。

# 默认垃圾收集器
版本	默认 GC	说明
JDK 8	Parallel GC（吞吐量优先）	并行回收年轻代和老年代，STW 时间较长，适合吞吐量型应用
JDK 17	G1 GC（Garbage First）	分区回收，支持并发标记和回收，可控制停顿时间，适合低延迟、大堆应用

